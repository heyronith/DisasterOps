# Step 1: Knowledge Base Collection - Complete Guide

## Executive Summary

**✅ GOOD NEWS: 100% Manual Download - No Scraping Required**

All required documents are available as direct PDF downloads from official government sources. We'll use a hybrid approach: **automated download scripts** (respectful, with delays) + **manual verification** for quality control.

---

## Download Strategy: Manual vs Automated

### Recommended Approach: **Semi-Automated Scripts**
- Use Python scripts to download known URLs (respectful, with delays)
- Manually verify each document after download
- Manually download any documents that require form submissions or special access
- This approach is **faster than manual-only**, **safer than scraping**, and **respects ToS**

---

## Document Inventory & Sources

### 1. FEMA ICS Forms (Critical - Highest Priority)

**Source:** FEMA Emergency Management Institute - ICS Resource Center  
**URL:** `https://training.fema.gov/emiweb/is/icsresource/icsforms/`

**Forms to Download:**
- ✅ **ICS-201** (Incident Briefing) - **PRIORITY 1**
- ✅ **ICS-202** (Incident Objectives) - **PRIORITY 1**
- ✅ **ICS-203** (Organization Assignment List)
- ✅ **ICS-204** (Assignment List)
- ✅ **ICS-205** (Incident Radio Communications Plan) - **PRIORITY 1**
- ✅ **ICS-205A** (Communications List)
- ✅ **ICS-206** (Medical Plan) - **PRIORITY 1**
- ✅ **ICS-207** (Incident Organization Chart)
- ✅ **ICS-208** (Safety Message/Plan)
- ✅ **ICS-209** (Incident Status Summary)
- ✅ **ICS-210** (Resource Status Change)
- ✅ **ICS-211** (Incident Check-In List)
- ✅ **ICS-213** (General Message)
- ✅ **ICS-214** (Activity Log)
- ✅ **ICS-215** (Operational Planning Worksheet)
- ✅ **ICS-215A** (Incident Action Plan Safety Analysis)
- ✅ **ICS-218** (Support Vehicle/Equipment Inventory)
- ✅ **ICS-219** (Resource Status Cards)
- ✅ **ICS-220** (Air Operations Summary)
- ✅ **ICS-221** (Demobilization Check-Out)

**Additional Resources:**
- **NIMS ICS Forms Booklet** (comprehensive guide with instructions)
  - Direct link: `https://training.fema.gov/emiweb/is/icsresource/assets/nims%20ics%20forms%20booklet.v3.pdf`
- **ICS Training Reference Guide**
  - Direct link: `https://training.fema.gov/emiweb/is/icsresource/assets/ics_training_reference_guide.pdf`

**Download Method:** 
- ✅ Direct PDF links available (automate-able)
- Individual form pages may have fillable PDFs + printable versions

---

### 2. CERT (Community Emergency Response Team) Materials

#### 2.1 CERT Basic Training Participant Manual (2019 - Latest)

**Primary Sources:**
1. **FEMA Official:** `https://www.fema.gov/emergency-managers/individuals-communities/preparedness-activities-webinars/community-emergency-response-team`
   - May need to navigate to training materials section
2. **Ready.gov CERT Section:** `https://www.ready.gov/cert-basic-training`
3. **Local CERT Programs** (backup sources):
   - Fairfax County CERT: `https://fairfaxcountycert.org/members/resources/cert-manuals/`
   - CERT-LA: `https://www.cert-la.com/manuals-etc/`
   - Oceanside CERT: `https://www.oceansidecert.org/training/training-materials`

**What to Get:**
- ✅ Participant Manual (full version)
- ✅ Instructor Guide (optional, but useful)
- ✅ Hazard-specific annexes (floods, earthquakes, wildfires, etc.)

**Download Method:**
- ⚠️ May require manual navigation (some sites have embedded viewers)
- Check for direct PDF links first, then manual download if needed

#### 2.2 CERT Additional Materials

**CERT Instructor Tools:**
- Source: `https://www.iavoad.org/resources/cert-instructor-tools/`
- Handouts, presentations, training aids
- **Priority:** Low (nice-to-have for completeness)

---

### 3. Ready.gov Preparedness Guides

**Source:** `https://www.ready.gov/`

#### 3.1 "Are You Ready? An In-Depth Guide to Citizen Preparedness"

**Direct Download Link:**
- `https://www.ready.gov/sites/default/files/2021-11/are-you-ready-guide.pdf`
- Also available in multiple languages from: `https://www.ready.gov/collection/are-you-ready`

**Priority:** ✅ High - Comprehensive disaster preparedness guide

#### 3.2 Ready.gov Caregivers Preparedness Guide

**Direct Download Link:**
- `https://www.ready.gov/sites/default/files/2024-02/ready-gov_caregivers-preparedness-guide.pdf`

**Priority:** Medium

#### 3.3 Disaster-Specific Guides (High Value)

**Available from Ready.gov:**
- Floods
- Wildfires  
- Earthquakes
- Hurricanes
- Tornadoes
- Extreme Heat
- Winter Storms
- And more...

**Download Method:**
- ✅ Most have direct PDF links
- Some may be HTML-only (will need to scrape these, but minimal)

**Recommended:** Download guides for **top 5 disaster types** (floods, fires, earthquakes, hurricanes, tornadoes)

---

### 4. Additional FEMA Resources (Optional but Valuable)

#### 4.1 National Response Framework (NRF)

**Source:** FEMA Library or FEMA.gov
- Comprehensive emergency response framework
- **Priority:** High (defines operational structure)

#### 4.2 NIMS (National Incident Management System) Guides

**Source:** FEMA Emergency Management Institute
- NIMS Implementation guides
- NIMS Doctrine documents
- **Priority:** Medium-High (complements ICS)

#### 4.3 FEMA Independent Study (IS) Course Materials

**Relevant Courses:**
- `IS-100: Introduction to ICS`
- IS-200: ICS for Single Resources
- IS-700: NIMS Introduction
- IS-800: National Response Framework

**Note:** These are usually online courses, but study materials may be downloadable
- **Priority:** Low (can reference online if needed)

---

### 5. State/Local Emergency Operations Plans (EOPs) - Stretch Goal

**Challenge:** 50 states, thousands of local jurisdictions
**Strategy:** 
- Focus on **3-5 representative states** (California, Texas, Florida, New York, etc.)
- Focus on **major cities** with well-documented EOPs
- **Priority:** Low for MVP, High for production system

**Download Method:**
- ⚠️ Requires manual research per jurisdiction
- May need to contact emergency management offices
- Some available online, some require requests

---

## Implementation Plan

### Phase 1: Core Documents (Days 1-2)

**Target:** Must-have documents for MVP

1. ✅ **ICS Forms Bundle** (Forms 201, 202, 205, 206 + NIMS Booklet)
2. ✅ **CERT Participant Manual** (latest version)
3. ✅ **"Are You Ready?" Guide**
4. ✅ **5 Disaster-Specific Guides** (floods, fires, earthquakes, hurricanes, tornadoes)

**Estimated Time:** 2-3 hours (manual) or 30 minutes (scripted)

---

### Phase 2: Expanded Corpus (Days 3-4)

**Target:** Comprehensive knowledge base

1. ✅ All remaining ICS Forms (203, 204, 207-221)
2. ✅ CERT Instructor Guide + hazard annexes
3. ✅ Additional Ready.gov guides
4. ✅ ICS Training Reference Guide
5. ✅ NRF Overview (if available as PDF)

**Estimated Time:** 4-6 hours (manual) or 1 hour (scripted)

---

### Phase 3: Optional Enhancements (Day 4+)

**Target:** Production-grade completeness

1. State/local EOPs (selective)
2. FEMA IS course materials (selected)
3. Additional emergency management agency resources

---

## Technical Implementation

### Directory Structure

```
DisasterOps/
├── data/
│   ├── raw/                    # Original PDFs as downloaded
│   │   ├── ics_forms/
│   │   ├── cert/
│   │   ├── ready_gov/
│   │   └── fema_other/
│   ├── processed/              # Cleaned, structured versions
│   └── metadata/               # Citation IDs, document metadata
└── scripts/
    └── download_knowledge_base.py
```

### Citation Schema

**Format:** `{source}_{document_type}_{section}_{page}`

**Examples:**
- `fema_ics201_section1_p1`
- `cert_participant_manual_chapter2_section3_p45`
- `ready_gov_are_you_ready_chapter4_p12`

---

## Download Script (Python)

**Approach:**
- Use `requests` library with respectful delays (2-3 seconds between requests)
- Use `BeautifulSoup` only for extracting PDF links (not scraping content)
- Handle errors gracefully (some links may break)
- Log all downloads with metadata

**Features:**
- Resume capability (skip already-downloaded files)
- Metadata extraction (document title, source, date)
- Verification (check file integrity)

---

## Quality Control Checklist

After downloading, verify each document:

- [ ] File opens correctly (not corrupted)
- [ ] Content is readable (not scanned images without OCR)
- [ ] Document is latest version
- [ ] Source URL recorded in metadata
- [ ] Citation ID assigned

---

## Legal & Ethical Considerations

✅ **Allowed:**
- Downloading publicly available PDFs for research/educational purposes
- Automated downloads with respectful delays
- Using downloaded content in your RAG system

⚠️ **Not Allowed:**
- Aggressive scraping (hammering servers)
- Bypassing rate limits
- Commercial redistribution of documents
- Modifying and claiming as your own work

**Best Practice:** Always cite sources, maintain provenance chain, respect robots.txt

---

## Risk Mitigation

**Risk 1: Links Break**
- **Mitigation:** Maintain backup sources (multiple CERT sites, archive.org)
- Keep a list of working URLs in version control

**Risk 2: Documents Update**
- **Mitigation:** Record download dates, check for updates quarterly
- Version your corpus (e.g., `v1.0_2024-12`)

**Risk 3: Large File Sizes**
- **Mitigation:** Some PDFs may be 50-100MB. Consider compression or chunking during processing
- Use Git LFS for large files or store in cloud storage (S3, Google Drive)

---

## Success Criteria for Step 1

✅ **Minimum Viable Corpus:**
- 10+ documents (ICS forms + CERT + Ready.gov basics)
- All documents have stable citation IDs
- Metadata recorded for each document
- Downloads are reproducible (script or documented manual steps)

✅ **Production-Ready Corpus:**
- 30+ documents covering multiple disaster types
- Complete ICS form set
- Comprehensive CERT materials
- Documents are processed and chunked
- Citation mapping complete

---

## Next Steps After Download

Once documents are downloaded:

1. **Extract text from PDFs** (using PyPDF2, pdfplumber, or Adobe API)
2. **Structure documents** (identify sections, headers, page breaks)
3. **Build citation index** (map text chunks → source documents)
4. **Prepare for chunking** (Step 2: RAG Pipeline)

---

## Recommended Tools

- **PDF Processing:** `pdfplumber`, `PyPDF2`, or `pypdf`
- **Text Extraction:** `pdfminer.six` (better for complex layouts)
- **Download Automation:** `requests`, `urllib`
- **HTML Parsing (if needed):** `BeautifulSoup4`
- **Metadata Management:** JSON files or SQLite database

---

## Quick Start Command

After setting up the script:

```bash
python scripts/download_knowledge_base.py --phase core --output data/raw
```

This downloads Phase 1 (core documents) to `data/raw/`

---

## Notes

- **Start with manual download** of 2-3 documents to understand the structure
- **Then automate** the rest once you understand URL patterns
- **Always verify** automated downloads manually
- **Keep a log** of what worked and what didn't (for future updates)

